{"ast":null,"code":"import React,{useEffect,useState}from'react';import Navbar from'../ui/Navbar';import MovieList from'../list/MovieList';import'../styles/SearchPage.css';import{useLocation,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchPage=()=>{const[searchResults,setSearchResults]=useState([]);const[searchTerm,setSearchTerm]=useState('');const location=useLocation();const navigate=useNavigate();useEffect(()=>{// URL에서 쿼리 파라미터 추출\nconst queryParams=new URLSearchParams(location.search);const results=queryParams.get('results');const query=queryParams.get('query');try{const parsedResults=results?JSON.parse(decodeURIComponent(results)):[];setSearchResults(parsedResults);}catch(error){console.error('결과 파싱 중 오류:',error);}if(query){setSearchTerm(query);}},[location.search]);const handleMovieClick=movieId=>{console.log('Navigating to movie details with ID:',movieId);navigate(\"/api/movies/detail/\".concat(movieId,\"?language=ko\"));// 경로에 쿼리 파라미터 포함\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-page\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-content\",children:[searchResults.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-results-message\",children:\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),searchResults.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"movie-category\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"'\",searchTerm,\"' \\uAC80\\uC0C9 \\uACB0\\uACFC\"]}),/*#__PURE__*/_jsx(MovieList,{movies:searchResults,onMovieClick:handleMovieClick})]})]})]});};export default SearchPage;","map":{"version":3,"names":["React","useEffect","useState","Navbar","MovieList","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","SearchPage","searchResults","setSearchResults","searchTerm","setSearchTerm","location","navigate","queryParams","URLSearchParams","search","results","get","query","parsedResults","JSON","parse","decodeURIComponent","error","console","handleMovieClick","movieId","log","concat","className","children","length","movies","onMovieClick"],"sources":["C:/Users/MovieRecommendations/frontend/src/components/page/SearchPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Navbar from '../ui/Navbar';\r\nimport MovieList from '../list/MovieList';\r\nimport '../styles/SearchPage.css';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\n\r\nconst SearchPage = () => {\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // URL에서 쿼리 파라미터 추출\r\n    const queryParams = new URLSearchParams(location.search);\r\n    const results = queryParams.get('results');\r\n    const query = queryParams.get('query');\r\n\r\n    try {\r\n      const parsedResults = results ? JSON.parse(decodeURIComponent(results)) : [];\r\n      setSearchResults(parsedResults);\r\n    } catch (error) {\r\n      console.error('결과 파싱 중 오류:', error);\r\n    }\r\n\r\n    if (query) {\r\n      setSearchTerm(query);\r\n    }\r\n  }, [location.search]);\r\n\r\n  const handleMovieClick = (movieId) => {\r\n    console.log('Navigating to movie details with ID:', movieId);\r\n    navigate(`/api/movies/detail/${movieId}?language=ko`); // 경로에 쿼리 파라미터 포함\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-page\">\r\n      <Navbar />\r\n      <div className=\"search-content\">\r\n        {searchResults.length === 0 && (\r\n          <p className=\"no-results-message\">검색 결과가 없습니다.</p>\r\n        )}\r\n        {searchResults.length > 0 && (\r\n          <div className=\"movie-category\">\r\n            <h2>'{searchTerm}' 검색 결과</h2>\r\n            <MovieList movies={searchResults} onMovieClick={handleMovieClick} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,0BAA0B,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAAc,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9BL,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAiB,WAAW,CAAG,GAAI,CAAAC,eAAe,CAACH,QAAQ,CAACI,MAAM,CAAC,CACxD,KAAM,CAAAC,OAAO,CAAGH,WAAW,CAACI,GAAG,CAAC,SAAS,CAAC,CAC1C,KAAM,CAAAC,KAAK,CAAGL,WAAW,CAACI,GAAG,CAAC,OAAO,CAAC,CAEtC,GAAI,CACF,KAAM,CAAAE,aAAa,CAAGH,OAAO,CAAGI,IAAI,CAACC,KAAK,CAACC,kBAAkB,CAACN,OAAO,CAAC,CAAC,CAAG,EAAE,CAC5ER,gBAAgB,CAACW,aAAa,CAAC,CACjC,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,aAAa,CAAEA,KAAK,CAAC,CACrC,CAEA,GAAIL,KAAK,CAAE,CACTR,aAAa,CAACQ,KAAK,CAAC,CACtB,CACF,CAAC,CAAE,CAACP,QAAQ,CAACI,MAAM,CAAC,CAAC,CAErB,KAAM,CAAAU,gBAAgB,CAAIC,OAAO,EAAK,CACpCF,OAAO,CAACG,GAAG,CAAC,sCAAsC,CAAED,OAAO,CAAC,CAC5Dd,QAAQ,uBAAAgB,MAAA,CAAuBF,OAAO,gBAAc,CAAC,CAAE;AACzD,CAAC,CAED,mBACErB,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B3B,IAAA,CAACL,MAAM,GAAE,CAAC,cACVO,KAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5BvB,aAAa,CAACwB,MAAM,GAAK,CAAC,eACzB5B,IAAA,MAAG0B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,2DAAY,CAAG,CAClD,CACAvB,aAAa,CAACwB,MAAM,CAAG,CAAC,eACvB1B,KAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzB,KAAA,OAAAyB,QAAA,EAAI,GAAC,CAACrB,UAAU,CAAC,6BAAO,EAAI,CAAC,cAC7BN,IAAA,CAACJ,SAAS,EAACiC,MAAM,CAAEzB,aAAc,CAAC0B,YAAY,CAAER,gBAAiB,CAAE,CAAC,EACjE,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}